(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,function(e,t,a){},,,,,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},,,,,,,,,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},,,function(e,t,a){e.exports=a(97)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,,,,,,,,function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(24),c=a.n(s),r=(a(47),a(3)),l=a(4),o=a(5),m=a(2),u=a(6),h=a(1),d=(a(48),function(e){return i.a.createElement("div",{className:"Logo-icon"},i.a.createElement("img",{alt:"logo",src:"/logo.svg",height:"26px",width:"26px"}),"\xa0lazy to cook")}),p=(a(49),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).logout=a.logout.bind(Object(h.a)(Object(h.a)(a))),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"logout",value:function(e){"logout"===e.target.name&&fetch("/auth/logout",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){200===e.status?window.location="/app/":alert("Error logging out.")})}},{key:"render",value:function(){var e=this.props.shouldShowLogout?i.a.createElement("button",{className:"logout-btn",name:"logout",onClick:this.logout},"Logout"):"",t=this.props.shouldShowLogout?"":i.a.createElement("p",{className:"logout-btn"},i.a.createElement("a",{href:"/app/?method=signin",className:"logout-btn"},"Sign In"),i.a.createElement("a",{href:"/app/?method=register",className:"logout-btn"},"Register"));return i.a.createElement("div",null,i.a.createElement("nav",{className:"Navbar-container"},i.a.createElement(d,null),e,t),this.props.children)}}]),t}(n.Component)),f=a(9),b=a(10),E=(a(50),a(7)),v=["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"],g=function(e){return!(!e||!e.length)&&/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(e)},y=function(e){return!(!e||!e.length)&&/^[1-9]\d{9}$/.test(e)},j=function(e){return!(!e||!e.length)&&/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/.test(e)},N=function(e){return!(!e||!e.length)&&/^(0[1-9]|1[012])[- \/.](0[1-9]|[12][0-9]|3[01])[- \/.](19|20)\d\d$/.test(e)},O=function(e){return!(!e||!e.length)&&new Set(v.map(function(e){return e.toLowerCase()})).has(e.toLowerCase())},C=function(e){return"number"===typeof e&&(e=String(e)),!(!e||!e.length)&&/^[1-9]\d{4}$/.test(e)},S=function(e){return!(!e||!e.length)&&/^[a-zA-Z0-9.]{4,10}$/.test(e)&&2===e.split(".").length&&"."!==e[e.length-1]},w=function(e){if("number"===typeof e&&(e=String(e)),!e||!e.length)return!1;for(var t={uppercase:0,lowercase:0,numeric:0,specialchar:0},a=0;a<e.length;a++)e[a]>="a"&&e[a]<="z"?t.lowercase++:e[a]>="A"&&e[a]<="Z"?t.uppercase++:e[a]>="0"&&e[a]<="9"?t.numeric++:t.specialchar++;return e.length>=8&&t.uppercase>0&&t.lowercase>0&&t.numeric>0&&t.specialchar>0},k=function(e){return!(!e||!e.length)&&/^[0-9]*\.\d{2}|[0-9]*$/.test(e)},_=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).url="/auth/register",a.user_type="",a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.collectData=a.collectData.bind(Object(h.a)(Object(h.a)(a))),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"collectData",value:function(){return Object(b.a)({},this.state,{user_type:this.user_type})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.collectData(),a=this;t&&fetch(this.url,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){if(200!==e.status)return e.text().then(function(e){E.NotificationManager.error(e)});E.NotificationManager.success("Created Successfully! Please login now."),window.location="/app/?type=".concat(a.user_type,"&mode=signin")})}},{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;if("isSignup"!==t)if(this.setState(function(e){return Object(f.a)({},t,a)}),""===a)this.setState(function(e){return{validationStatus:Object(b.a)({},e.validationStatus,Object(f.a)({},t,"Cannot be empty"))}});else{var n=!1;"contact"!==t||y(a)||(this.setState(function(e){return{validationStatus:Object(b.a)({},e.validationStatus,Object(f.a)({},t,"Enter only 10 Digits."))}}),n=!0),"email"!==t||g(a)||(this.setState(function(e){return{validationStatus:Object(b.a)({},e.validationStatus,Object(f.a)({},t,"Enter Format: [A-Za-z0-9]@[A-Za-z0-9].[A-Za-z0-9]"))}}),n=!0),"username"!==t||S(a)||(this.setState(function(e){return{validationStatus:Object(b.a)({},e.validationStatus,Object(f.a)({},t,"Need 4-10 characters with a digit and period in middle; no period in the end. Eg. 'test.1', 'test1.test', 'te1st.1'"))}}),n=!0),"password"!==t||w(a)||(this.setState(function(e){return{validationStatus:Object(b.a)({},e.validationStatus,Object(f.a)({},t,"Length:8, At least One UpperCase, One LowerCase, One Digit and One Special Character."))}}),n=!0),"website"!==t||j(a)||(this.setState(function(e){return{validationStatus:Object(b.a)({},e.validationStatus,Object(f.a)({},t,"Enter Format: [www]?.[A-Za-z0-9].[A-Za-z0-9]"))}}),n=!0),"dob"!==t||N(a)||(this.setState(function(e){return{validationStatus:Object(b.a)({},e.validationStatus,Object(f.a)({},t,"Format: mm-dd-yyyy, mm/dd/yyyy, mm.dd.yyyy, mm dd yyyy"))}}),n=!0),"state"!==t||O(a)||(this.setState(function(e){return{validationStatus:Object(b.a)({},e.validationStatus,Object(f.a)({},t,"Enter full state name."))}}),n=!0),"zipcode"!==t||C(a)||(this.setState(function(e){return{validationStatus:Object(b.a)({},e.validationStatus,Object(f.a)({},t,"Enter 5 digit US Zipcode."))}}),n=!0),n||this.setState(function(e){return{validationStatus:Object(b.a)({},e.validationStatus,Object(f.a)({},t,""))}})}else this.setState(function(e){return{isSignup:!e.isSignup}})}}]),t}(n.Component),x=(a(12),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).user_type="admin",a.state={name:"",contact:"",email:"",username:"",password:"",website:"",validationStatus:{name:"Cannot be empty",contact:"Cannot be empty",email:"Cannot be empty",username:"Cannot be empty",password:"Cannot be empty",website:"Cannot be empty"}},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("h2",null,"Restaurant Sign up"),i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{className:"field-row"},i.a.createElement("label",null,"Name"),i.a.createElement("input",{type:"text",name:"name",value:this.state.name,onChange:this.handleChange}),i.a.createElement("span",{className:"validation"},this.state.validationStatus.name)),i.a.createElement("div",{className:"field-row"},i.a.createElement("label",null,"Phone Number"),i.a.createElement("input",{type:"text",name:"contact",value:this.state.address,onChange:this.handleChange}),i.a.createElement("span",{className:"validation"},this.state.validationStatus.contact)),i.a.createElement("div",{className:"field-row"},i.a.createElement("label",null,"Email Address"),i.a.createElement("input",{type:"text",name:"email",value:this.state.email,onChange:this.handleChange}),i.a.createElement("span",{className:"validation"},this.state.validationStatus.email)),i.a.createElement("div",{className:"field-row"},i.a.createElement("label",null,"Website"),i.a.createElement("input",{type:"text",name:"website",value:this.state.website,onChange:this.handleChange}),i.a.createElement("span",{className:"validation"},this.state.validationStatus.website)),i.a.createElement("div",{className:"field-row"},i.a.createElement("label",null,"Username"),i.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:this.handleChange}),i.a.createElement("span",{className:"validation"},this.state.validationStatus.username)),i.a.createElement("div",{className:"field-row"},i.a.createElement("label",null,"Password"),i.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleChange}),i.a.createElement("span",{className:"validation"},this.state.validationStatus.password)),i.a.createElement("input",{className:"submit-btn",type:"submit",value:"Sign up"})),i.a.createElement(E.NotificationContainer,null))}}]),t}(_)),T=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).url="/auth/login",a.state={username:"",password:""},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.collectData=a.collectData.bind(Object(h.a)(Object(h.a)(a))),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"collectData",value:function(){var e=this.props.user_type;return Object(b.a)({},this.state,{user_type:e})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.collectData();t&&fetch(this.url,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return 200===e.status?e.json():400!==e.status?e.json():void e.text().then(function(e){E.NotificationManager.error(e)})}).then(function(e){e&&(e.redirectTo?window.location=e.redirectTo:e.message&&alert(e.message))})}},{key:"handleChange",value:function(e){var t=e.target.name;if("isSignup"!==t){var a=e.target.value;this.setState(function(e){return Object(f.a)({},t,a)})}else this.setState(function(e){return{isSignup:!e.isSignup}})}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("h2",null,"user"===this.props.user_type?"User":"Restaurant"," Sign in "),i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{className:"field-row"},i.a.createElement("label",null,"admin"===this.props.user_type?"Username":"Email Address"),i.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:this.handleChange})),i.a.createElement("div",{className:"field-row"},i.a.createElement("label",null,"Password"),i.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleChange})),i.a.createElement("input",{className:"submit-btn",type:"submit",value:"Sign in"})),i.a.createElement(E.NotificationContainer,null))}}]),t}(i.a.Component),A=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).user_type="user",a.state={first_name:"",middle_name:"",last_name:"",dob:"",email:"",password:"",line1:"",line2:"",city:"",state:"",zipcode:"",validationStatus:{first_name:"Cannot be empty",middle_name:"",last_name:"Cannot be empty",dob:"Cannot be empty",email:"Cannot be empty",password:"Cannot be empty",line1:"Cannot be empty",line2:"",city:"Cannot be empty",state:"Cannot be empty",zipcode:"Cannot be empty"}},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"collectData",value:function(){return{first_name:this.state.first_name,middle_name:this.state.middle_name,last_name:this.state.last_name,dob:this.state.dob,email:this.state.email,password:this.state.password,user_type:this.user_type,address:{line1:this.state.line1,line2:this.state.line2,city:this.state.city,state:this.state.state,zipcode:this.state.zipcode}}}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("h2",null,"User Sign up"),i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{className:"field-row"},i.a.createElement("label",null,"First Name"),i.a.createElement("input",{type:"text",name:"first_name",value:this.state.first_name,onChange:this.handleChange}),i.a.createElement("span",{className:"validation"},this.state.validationStatus.first_name)),i.a.createElement("div",{className:"field-row"},i.a.createElement("label",null,"Middle Name"),i.a.createElement("input",{type:"text",name:"middle_name",value:this.state.middle_name,onChange:this.handleChange}),i.a.createElement("span",{className:"validation"},this.state.validationStatus.middle_name_name)),i.a.createElement("div",{className:"field-row"},i.a.createElement("label",null,"Last Name"),i.a.createElement("input",{type:"text",name:"last_name",value:this.state.last_name,onChange:this.handleChange}),i.a.createElement("span",{className:"validation"},this.state.validationStatus.last_name)),i.a.createElement("div",{className:"field-row"},i.a.createElement("label",null,"Date of Birth"),i.a.createElement("input",{type:"text",name:"dob",value:this.state.dob,onChange:this.handleChange}),i.a.createElement("span",{className:"validation"},this.state.validationStatus.dob)),i.a.createElement("div",{className:"field-row"},i.a.createElement("label",null,"Email Address"),i.a.createElement("input",{type:"text",name:"email",value:this.state.email,onChange:this.handleChange}),i.a.createElement("span",{className:"validation"},this.state.validationStatus.email)),i.a.createElement("div",{className:"field-row"},i.a.createElement("label",null,"Password"),i.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleChange}),i.a.createElement("span",{className:"validation"},this.state.validationStatus.password)),i.a.createElement("div",null,i.a.createElement("h5",null,"Mailing Address"),i.a.createElement("div",{className:"field-row"},i.a.createElement("label",null,"Line 1"),i.a.createElement("input",{type:"text",name:"line1",value:this.state.line1,onChange:this.handleChange}),i.a.createElement("span",{className:"validation"},this.state.validationStatus.line1)),i.a.createElement("div",{className:"field-row"},i.a.createElement("label",null,"Line 2"),i.a.createElement("input",{type:"text",name:"line2",value:this.state.line2,onChange:this.handleChange}),i.a.createElement("span",{className:"validation"},this.state.validationStatus.line2)),i.a.createElement("div",{className:"field-row"},i.a.createElement("label",null,"City"),i.a.createElement("input",{type:"text",name:"city",value:this.state.city,onChange:this.handleChange}),i.a.createElement("span",{className:"validation"},this.state.validationStatus.city)),i.a.createElement("div",{className:"field-row"},i.a.createElement("label",null,"State"),i.a.createElement("input",{type:"text",name:"state",value:this.state.state,onChange:this.handleChange}),i.a.createElement("span",{className:"validation"},this.state.validationStatus.state)),i.a.createElement("div",{className:"field-row"},i.a.createElement("label",null,"Zipcode"),i.a.createElement("input",{type:"text",name:"zipcode",value:this.state.zipcode,onChange:this.handleChange}),i.a.createElement("span",{className:"validation"},this.state.validationStatus.zipcode))),i.a.createElement("input",{className:"submit-btn",type:"submit",value:"Submit"})),i.a.createElement(E.NotificationContainer,null))}}]),t}(_),D=(a(67),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={user_type:e.type,isSignup:"register"===e.method},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){fetch("/auth/login",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){e.redirectTo&&(window.location=e.redirectTo)})}},{key:"handleChange",value:function(e){var t=e.target,a=t.attributes.name.value;if("isSignup"!==a){var n=t.getElementsByTagName("input")[0].value;this.setState(Object(f.a)({},a,n))}else this.setState(function(e){return{isSignup:!e.isSignup}})}},{key:"render",value:function(){var e="",t="admin"===this.state.user_type?x:A;return e=this.state.isSignup?i.a.createElement(t,null):i.a.createElement(T,{user_type:this.state.user_type}),i.a.createElement("div",{className:"authentication-form"},i.a.createElement("div",{className:"radio-selection usertype-selection"},i.a.createElement("span",{name:"user_type",className:"".concat("admin"===this.state.user_type?"selected":""," selection left-border-curved"),onClick:this.handleChange},i.a.createElement("input",{type:"hidden",name:"user_type",value:"admin",checked:"admin"===this.state.user_type})," Restaurant"),i.a.createElement("span",{name:"user_type",className:"".concat("user"===this.state.user_type?"selected":""," selection right-border-curved"),onClick:this.handleChange},i.a.createElement("input",{type:"hidden",name:"user_type",value:"user",checked:"user"===this.state.user_type})," User")),i.a.createElement("div",{className:"auth-form"},e))}}]),t}(n.Component)),M=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={isLoggedIn:!1},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/auth/login",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){e.setState({isLoggedIn:t.status}),t.status||(window.location="/app/")})}}]),t}(n.Component),P=(a(20),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={restaurant:{},outlets:[]},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.delete=a.delete.bind(Object(h.a)(Object(h.a)(a))),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(function(e){return e.restaurant[t]=a,e})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this;fetch("/api/restaurants/".concat(this.props.match.params.id),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(this.state.restaurant)}).then(function(e){if(e&&200===e.status)return e.json();400===e.status&&e.text().then(function(e){E.NotificationManager.error(e)})}).then(function(e){if(e){var a="Successfully updated!";t.state.restaurant.is_deleted&&(a="Successfully restored!"),t.setState({restaurant:e},function(){alert(a)})}})}},{key:"componentDidMount",value:function(){if(this.props.match.params.id){var e=this;fetch("/api/restaurants/".concat(this.props.match.params.id),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e&&200===e.status||401===e.status&&(window.location="/app/"),e.json()}).then(function(t){t&&e.setState({restaurant:t})})}}},{key:"delete",value:function(e){this.props.match.params.id&&window.confirm("Are you sure you want to delete your restaurant?")&&fetch("/api/restaurants/".concat(this.props.match.params.id),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){if(!e||200!==e.status)return null;window.location="/app/"})}},{key:"render",value:function(){var e="";this.state.restaurant&&Object.keys(this.state.restaurant).length&&(e=i.a.createElement("div",null,i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{className:"field-row"},i.a.createElement("label",null,"Name"),i.a.createElement("input",{type:"text",name:"name",value:this.state.restaurant.name,onChange:this.handleChange})),i.a.createElement("div",{className:"field-row"},i.a.createElement("label",null,"Phone Number"),i.a.createElement("input",{type:"text",name:"contact",value:this.state.restaurant.contact,onChange:this.handleChange})),i.a.createElement("div",{className:"field-row"},i.a.createElement("label",null,"Email Address"),i.a.createElement("input",{type:"email",name:"email",value:this.state.restaurant.email,onChange:this.handleChange})),i.a.createElement("div",{className:"field-row"},i.a.createElement("label",null,"Website"),i.a.createElement("input",{type:"text",name:"website",value:this.state.restaurant.website,onChange:this.handleChange})),i.a.createElement("input",{className:"submit-btn",type:"submit",value:this.state.restaurant.is_deleted?"Restore Account":"Update"})),this.state.restaurant.is_deleted?"":i.a.createElement("button",{onClick:this.delete,className:"submit-btn trash-btn"},i.a.createElement("i",{className:"fas fa-trash"}),"\xa0Delete Restaurant")));var t=this.state&&this.state.restaurant?this.state.restaurant.name:"";return i.a.createElement("div",{className:"restaurant-detail-container"},i.a.createElement("h1",null,t,t&&"s"===t[t.length-1]?"'":"'s"," Profile"),i.a.createElement("section",null,e),i.a.createElement(E.NotificationContainer,null))}}]),t}(i.a.Component)),I=a(17),z=(a(22),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={outlet:{name:"",contact:"",address:{line1:"",line2:"",city:"",state:"",zipcode:""}},isEditMode:!0,validationStatus:{name:"",contact:"",line1:"",line2:"",city:"",state:"",zipcode:""}},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){console.log("in");var e=this,t=this.props.match.params.id,a=this.props.match.params.outlet_id;this.setState({isEditMode:!!this.props.match.params.outlet_id}),t&&a&&fetch("/api/restaurants/".concat(t,"/outlets/").concat(a),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return 200!==e.status?null:e.json()}).then(function(t){t&&e.setState({outlet:t})})}},{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;if(""===a)this.setState(function(e){return{validationStatus:Object(b.a)({},e.validationStatus,Object(f.a)({},t,"Cannot be empty"))}});else{var n=!1;"contact"!==t||y(a)||(this.setState(function(e){return{validationStatus:Object(b.a)({},e.validationStatus,Object(f.a)({},t,"Enter only 10 Digits."))}}),n=!0),"state"!==t||O(a)||(this.setState(function(e){return{validationStatus:Object(b.a)({},e.validationStatus,Object(f.a)({},t,"Enter full state name."))}}),n=!0),"zipcode"!==t||C(a)||(this.setState(function(e){return{validationStatus:Object(b.a)({},e.validationStatus,Object(f.a)({},t,"Enter 5 digit US Zipcode."))}}),n=!0),n||this.setState(function(e){return{validationStatus:Object(b.a)({},e.validationStatus,Object(f.a)({},t,""))}})}switch(t){case"line1":case"line2":case"city":case"state":this.setState(function(e){return e.outlet.address[t]=a,e});break;case"zipcode":this.setState(function(e){return e.outlet.address.zipcode=parseInt(a),e});break;default:this.setState(function(e){return e.outlet[t]=a,e})}}},{key:"handleSubmit",value:function(e){if(e.preventDefault(),"submit"===e.target.name){var t=this,a=this.props.match.params.id,n="/api/restaurants/".concat(a,"/outlets"),i="POST";if(this.state.isEditMode){var s=this.props.match.params.outlet_id;n="/api/restaurants/".concat(a,"/outlets/").concat(s),i="PUT"}fetch(n,{method:i,headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t.state.outlet)}).then(function(e){e&&200===e.status?window.location="/app/admin/".concat(t.props.match.params.id,"/outlets").concat(t.state.isEditMode?"/"+t.props.match.params.outlet_id+"/edit":""):e.text().then(function(e){E.NotificationManager.error(e)})})}else"cancel"===e.target.name&&(window.location="/app/admin/".concat(this.props.match.params.id,"/outlets"))}},{key:"render",value:function(){var e="",t=this.state.outlet;return t&&Object.keys(t).length&&(e=i.a.createElement("form",{onSubmit:function(){return!1}},i.a.createElement("div",{className:"field-row"},i.a.createElement("label",null,"Name"),i.a.createElement("input",{type:"text",name:"name",value:t.name,onChange:this.handleChange}),i.a.createElement("span",{className:"validation"},this.state.validationStatus.name)),i.a.createElement("div",{className:"field-row"},i.a.createElement("label",null,"Phone Number"),i.a.createElement("input",{type:"text",name:"contact",value:t.contact,onChange:this.handleChange}),i.a.createElement("span",{className:"validation"},this.state.validationStatus.contact)),i.a.createElement("div",{className:"field-row"},i.a.createElement("h4",null,"Mailing Address"),i.a.createElement("div",{className:"field-row"},i.a.createElement("label",null,"Line 1"),i.a.createElement("input",{type:"text",name:"line1",value:t.address.line1,onChange:this.handleChange}),i.a.createElement("span",{className:"validation"},this.state.validationStatus.line1)),i.a.createElement("div",{className:"field-row"},i.a.createElement("label",null,"Line 2"),i.a.createElement("input",{type:"text",name:"line2",value:t.address.line2,onChange:this.handleChange}),i.a.createElement("span",{className:"validation"},this.state.validationStatus.line2)),i.a.createElement("div",{className:"field-row"},i.a.createElement("label",null,"City"),i.a.createElement("input",{type:"text",name:"city",value:t.address.city,onChange:this.handleChange}),i.a.createElement("span",{className:"validation"},this.state.validationStatus.city)),i.a.createElement("div",{className:"field-row"},i.a.createElement("label",null,"State"),i.a.createElement("input",{type:"text",name:"state",value:t.address.state,onChange:this.handleChange}),i.a.createElement("span",{className:"validation"},this.state.validationStatus.state)),i.a.createElement("div",{className:"field-row"},i.a.createElement("label",null,"Zipcode"),i.a.createElement("input",{type:"text",name:"zipcode",value:t.address.zipcode,onChange:this.handleChange}),i.a.createElement("span",{className:"validation"},this.state.validationStatus.zipcode))),i.a.createElement("input",{name:"submit",className:"submit-btn",type:"submit",value:this.state.isEditMode?"Update":"Create",onClick:this.handleSubmit}),i.a.createElement("input",{name:"cancel",className:"submit-btn",type:"submit",value:"Cancel",onClick:this.handleSubmit}))),i.a.createElement("div",{className:"outlet-form-container"},i.a.createElement("h1",null,this.state.isEditMode?"Edit":"Add"," Outlet"),i.a.createElement("section",null,e),i.a.createElement(E.NotificationContainer,null))}}]),t}(n.Component)),L=(a(35),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"handleSubmit",value:function(e){var t=this;"submit"===e.target.name?fetch("/api/restaurants/".concat(this.props.match.params.id,"/outlets/").concat(this.props.match.params.outlet_id),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){if(200!==e.status)return E.NotificationManager.error("Error occurred while deleting outlet."),null;window.location="/app/admin/".concat(t.props.match.params.id,"/outlets")}):"cancel"===e.target.name&&(window.location="/app/admin/".concat(t.props.match.params.id,"/outlets"))}},{key:"render",value:function(){return i.a.createElement("div",{className:"delete-outlet-container"},i.a.createElement("h3",null,"Delete Confirmation"),i.a.createElement("p",null,"Do you still want to delete outlet?"),i.a.createElement("button",{name:"submit",className:"submit-btn",onClick:this.handleSubmit},"Delete"),i.a.createElement("button",{name:"cancel",className:"submit-btn",onClick:this.handleSubmit},"Cancel"))}}]),t}(n.Component)),U=a(8),q=a(18),F=(a(68),a(69),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={isImageAvailable:!0},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return this.state.isImageAvailable?i.a.createElement("img",{alt:this.props.url,src:this.props.url,width:"100%",onError:function(t){e.setState({isImageAvailable:!1})}}):i.a.createElement("div",{className:"image-unavailable"},"Image Unavailable ")}}]),t}(i.a.Component)),G=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={item:{name:"",description:"",item_dp:"",price:"",category:{id:""}},isEditMode:!0,categories:[],validationStatus:{name:"Cannot be empty",description:"",price:"Cannot be empty"}},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id,a=this.props.match.params.outlet_id,n=this.props.match.params.item_id;this.setState({isEditMode:!!this.props.match.params.item_id}),t&&a&&n&&fetch("/api/restaurants/".concat(t,"/outlets/").concat(a,"/items/").concat(n),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return 200!==e.status?null:e.json()}).then(function(t){t&&(e.setState({item:t}),console.log(e.state.item))}),t&&fetch("/api/restaurants/".concat(t,"/categories"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return 200!==e.status?null:e.json()}).then(function(t){t&&(e.setState({categories:t}),e.state.isEditMode||e.setState({item:{category:t[0]}}))})}},{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;if("category"!==t)if(this.setState(function(e){return e.item[t]=a,e}),""===a)this.setState(function(e){return{validationStatus:Object(b.a)({},e.validationStatus,Object(f.a)({},t,"Cannot be empty"))}});else{var n=!1;"price"!==t||k(a)||(console.log(a),this.setState(function(e){return{validationStatus:Object(b.a)({},e.validationStatus,Object(f.a)({},t,"Enter the decimal number."))}}),n=!0),n||this.setState(function(e){return{validationStatus:Object(b.a)({},e.validationStatus,Object(f.a)({},t,""))}})}else this.setState(function(e){return e.item.category={id:a},e})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=new FormData;this.state.isEditMode&&t.append("id",this.state.item.id),t.append("name",this.state.item.name),t.append("description",this.state.item.description),t.append("price",this.state.item.price),t.append("category",this.state.item.category.id);var a=document.getElementsByName("item_dp")[0].files[0];t.append("item_dp",a);var n=this.props.match.params.id,i=this.props.match.params.outlet_id;if("submit"===e.target.name){var s=this,c="/api/restaurants/".concat(n,"/outlets/").concat(i,"/items"),r="POST";if(this.state.isEditMode){var l=this.props.match.params.item_id;c+="/".concat(l),r="PUT"}fetch(c,{method:r,headers:{Accept:"application/json"},body:t}).then(function(e){200!==e.status?e.text().then(function(e){E.NotificationManager.error(e)}):window.location="/app/admin/".concat(n,"/outlets/").concat(i,"/items").concat(s.state.isEditMode?"/"+s.props.match.params.item_id+"/edit":"")})}else"cancel"===e.target.name&&(window.location="/app/admin/".concat(n,"/outlets/").concat(i,"/items"))}},{key:"render",value:function(){var e="";return this.state.item&&Object.keys(this.state.item).length&&(e=i.a.createElement("div",null,i.a.createElement("div",{style:{width:"600px"}},this.state.isEditMode&&this.state.item.image?i.a.createElement(F,{url:"/images/".concat(this.state.item.image)}):""),i.a.createElement("form",{onSubmit:function(){return!1}},i.a.createElement("div",{className:"field-row"},i.a.createElement("label",null,"Display Image"),i.a.createElement("input",{type:"file",name:"item_dp",value:this.state.item.item_dp,onChange:this.handleChange})),i.a.createElement("div",{className:"field-row"},i.a.createElement("label",null,"Name"),i.a.createElement("input",{type:"text",name:"name",value:this.state.item.name,onChange:this.handleChange}),i.a.createElement("span",{className:"validation"},this.state.validationStatus.name)),i.a.createElement("div",{className:"field-row"},i.a.createElement("label",null,"Description"),i.a.createElement("input",{type:"text",name:"description",value:this.state.item.description,onChange:this.handleChange}),i.a.createElement("span",{className:"validation"},this.state.validationStatus.description)),i.a.createElement("div",{className:"field-row"},i.a.createElement("label",null,"Price"),i.a.createElement("input",{type:"text",name:"price",value:this.state.item.price,onChange:this.handleChange}),i.a.createElement("span",{className:"validation"},this.state.validationStatus.price)),i.a.createElement("div",{className:"field-row"},i.a.createElement("label",null,"Category"),i.a.createElement("select",{name:"category",value:this.state.item.category?this.state.item.category.id:"",onChange:this.handleChange},this.state.categories.map(function(e,t){return i.a.createElement("option",{key:e.id,value:e.id},e.name)}))),i.a.createElement("input",{className:"submit-btn",name:"submit",type:"submit",value:this.state.isEditMode?"Update":"Create",onClick:this.handleSubmit}),i.a.createElement("input",{className:"submit-btn",name:"cancel",type:"submit",value:"Cancel",onClick:this.handleSubmit})))),i.a.createElement("div",{className:"item-form-container"},i.a.createElement("h1",null,this.state.isEditMode?"Edit":"Add"," Item"),i.a.createElement("section",null,e),i.a.createElement(E.NotificationContainer,null))}}]),t}(n.Component),R=(a(70),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"handleSubmit",value:function(e){var t=this;"submit"===e.target.name?fetch("/api/restaurants/".concat(this.props.match.params.id,"/outlets/").concat(this.props.match.params.outlet_id,"/items/").concat(this.props.match.params.item_id),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){if(200!==e.status)return e.text().then(function(e){E.NotificationManager.error(e)}),null;window.location="/app/admin/".concat(t.props.match.params.id,"/outlets/").concat(t.props.match.params.outlet_id,"/items")}):"cancel"===e.target.name&&(window.location="/app/admin/".concat(t.props.match.params.id,"/outlets/").concat(t.props.match.params.outlet_id,"/items"))}},{key:"render",value:function(){return i.a.createElement("div",{className:"delete-item-container"},i.a.createElement("h3",null,"Delete Confirmation"),i.a.createElement("p",null,"Do you still want to delete item?"),i.a.createElement("button",{name:"submit",className:"submit-btn",onClick:this.handleSubmit},"Delete"),i.a.createElement("button",{name:"cancel",className:"submit-btn",onClick:this.handleSubmit},"Cancel"),i.a.createElement(E.NotificationContainer,null))}}]),t}(n.Component)),$=(a(71),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={items:[]},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/restaurants/".concat(this.props.match.params.id,"/outlets/").concat(this.props.match.params.outlet_id,"/items"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return 200!==e.status?null:e.json()}).then(function(t){e.setState({items:t})})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"item-list-tray"},i.a.createElement("h4",{className:"item-title"},i.a.createElement("span",null,"Items"),i.a.createElement(U.b,{className:"float-right",to:"".concat(this.props.match.url,"/add")},i.a.createElement("button",{className:"operation-btn",title:"Add New Item"},i.a.createElement("i",{className:"fas fa-plus"})))),i.a.createElement(U.a,{forceRefresh:!0,basename:"/app"},i.a.createElement("ul",{className:"item-list"},this.state.items&&this.state.items.length?"":i.a.createElement("div",{style:{textAlign:"center",marginTop:"10px"}},"No item to display."),this.state.items.map(function(t,a){return i.a.createElement("li",{className:"item-list-item",key:t.id},i.a.createElement(U.b,{className:"item-list-item-detail float-left",to:"".concat(e.props.match.url,"/").concat(t.id,"/edit")},i.a.createElement("h3",null,t.name),i.a.createElement("p",{className:"item-list-item-description"},t.description)),i.a.createElement("span",{className:"float-right"},i.a.createElement(U.b,{className:"float-right",to:"".concat(e.props.match.url,"/").concat(t.id,"/delete")},i.a.createElement("button",{className:"operation-btn",title:"Delete"},i.a.createElement("i",{className:"fas fa-trash"})))),i.a.createElement("div",{className:"clear-both"}))})),i.a.createElement("div",null,i.a.createElement(q.a,{exact:!0,path:"".concat(this.props.match.path,"/add"),component:G}),i.a.createElement(q.a,{path:"".concat(this.props.match.path,"/:item_id/delete"),component:R}),i.a.createElement(q.a,{path:"".concat(this.props.match.path,"/:item_id/edit"),component:G}))))}}]),t}(M)),J=(a(23),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={outlets:[]},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){Object(I.a)(Object(m.a)(t.prototype),"componentDidMount",this).call(this);var e=this;fetch("/api/restaurants/".concat(this.props.match.params.id,"/outlets"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return 200!==e.status?null:e.json()}).then(function(t){e.setState({outlets:t})})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"outlet-list-tray"},i.a.createElement(U.a,{forceRefresh:!0,basename:"/app"},i.a.createElement("h4",{className:"outlet-title"},i.a.createElement("span",null,"Outlets"),i.a.createElement(U.b,{className:"float-right",to:"".concat(this.props.match.url,"/add")},i.a.createElement("button",{className:"operation-btn",title:"Add New Outlet"},i.a.createElement("i",{className:"fas fa-plus"})))),i.a.createElement("ul",{className:"outlet-list"},this.state.outlets&&this.state.outlets.length?"":i.a.createElement("div",{style:{textAlign:"center",marginTop:"10px"}},"No outlet to display."),this.state.outlets.map(function(t,a){return i.a.createElement("li",{className:"outlet-list-item",key:t.id},i.a.createElement(U.b,{className:"outlet-list-item-detail float-left",to:"".concat(e.props.match.url,"/").concat(t.id,"/items")},i.a.createElement("h3",null,t.name),i.a.createElement("span",null,"".concat(t.address.line1," ").concat(t.address.line2?t.address.line2:"",", ").concat(t.address.city))),i.a.createElement("span",{className:"float-right"},i.a.createElement(U.b,{className:"float-right",to:"".concat(e.props.match.url,"/").concat(t.id,"/edit")},i.a.createElement("button",{className:"operation-btn",title:"Edit"},i.a.createElement("i",{className:"fas fa-pen"}))),i.a.createElement(U.b,{className:"float-right",to:"".concat(e.props.match.url,"/").concat(t.id,"/delete")},i.a.createElement("button",{className:"operation-btn",title:"Delete"},i.a.createElement("i",{className:"fas fa-trash"})))),i.a.createElement("div",{className:"clear-both"}))})),i.a.createElement("div",null,i.a.createElement(q.a,{path:"".concat(this.props.match.path,"/:outlet_id/items"),component:$}),i.a.createElement(q.a,{exact:!0,path:"".concat(this.props.match.path,"/:outlet_id/edit"),component:z}),i.a.createElement(q.a,{exact:!0,path:"".concat(this.props.match.path,"/:outlet_id/delete"),component:L}),i.a.createElement(q.a,{exact:!0,path:"".concat(this.props.match.path,"/add"),component:z}))))}}]),t}(M)),Z=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={category:{name:""},isEditMode:!0,validationStatus:{name:"Cannot be empty"}},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id,a=this.props.match.params.category_id;this.setState({isEditMode:!!this.props.match.params.category_id}),t&&a&&fetch("/api/restaurants/".concat(t,"/categories/").concat(a),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return 200!==e.status?null:e.json()}).then(function(t){t&&e.setState({category:t})})}},{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(function(e){return e.category[t]=a,e}),""!==a?this.setState(function(e){return{validationStatus:{name:""}}}):this.setState(function(e){return{validationStatus:{name:"Cannot be empty"}}})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.props.match.params.id;if("submit"===e.target.name){var a=this,n="/api/restaurants/".concat(t,"/categories"),i="POST";if(this.state.isEditMode){var s=this.props.match.params.category_id;n+="/".concat(s),i="PUT"}fetch(n,{method:i,headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a.state.category)}).then(function(e){200!==e.status?e.text().then(function(e){E.NotificationManager.error(e)}):window.location="/app/admin/".concat(t,"/categories").concat(a.state.isEditMode?"/"+a.props.match.params.category_id+"/edit":"")})}else"cancel"===e.target.name&&(window.location="/app/admin/".concat(t,"/categories"))}},{key:"render",value:function(){var e="",t=this.state.category;return t&&Object.keys(t).length&&(e=i.a.createElement("form",{onSubmit:function(){return!1}},i.a.createElement("div",{className:"field-row"},i.a.createElement("label",null,"Name"),i.a.createElement("input",{type:"text",name:"name",value:t.name,onChange:this.handleChange}),i.a.createElement("span",{className:"validation"},this.state.validationStatus.name)),i.a.createElement("input",{name:"submit",className:"submit-btn",type:"submit",value:this.state.isEditMode?"Update":"Create",onClick:this.handleSubmit}),i.a.createElement("input",{name:"cancel",className:"submit-btn",type:"submit",value:"Cancel",onClick:this.handleSubmit}))),i.a.createElement("div",{className:"outlet-form-container"},i.a.createElement("h1",null,this.state.isEditMode?"Edit":"Add"," Category"),i.a.createElement("section",null,e),i.a.createElement(E.NotificationContainer,null))}}]),t}(n.Component),B=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"handleSubmit",value:function(e){var t=this;"submit"===e.target.name?fetch("/api/restaurants/".concat(this.props.match.params.id,"/categories/").concat(this.props.match.params.category_id),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){if(200!==e.status)return e.text().then(function(e){E.NotificationManager.error(e)}),null;window.location="/app/admin/".concat(t.props.match.params.id,"/categories")}):"cancel"===e.target.name&&(window.location="/app/admin/".concat(t.props.match.params.id,"/categories"))}},{key:"render",value:function(){return i.a.createElement("div",{className:"delete-outlet-container"},i.a.createElement("h3",null,"Delete Confirmation"),i.a.createElement("p",null,"Do you still want to delete category?"),i.a.createElement("button",{name:"submit",className:"submit-btn",onClick:this.handleSubmit},"Delete"),i.a.createElement("button",{name:"cancel",className:"submit-btn",onClick:this.handleSubmit},"Cancel"),i.a.createElement(E.NotificationContainer,null))}}]),t}(n.Component),W=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={categories:[]},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){Object(I.a)(Object(m.a)(t.prototype),"componentDidMount",this).call(this);var e=this;fetch("/api/restaurants/".concat(this.props.match.params.id,"/categories"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return 200!==e.status?null:e.json()}).then(function(t){e.setState({categories:t})})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"outlet-list-tray"},i.a.createElement(U.a,{forceRefresh:!0,basename:"/app"},i.a.createElement("h4",{className:"outlet-title"},i.a.createElement("span",null,"Item Categories"),i.a.createElement(U.c,{className:"float-right",to:"".concat(this.props.match.url,"/add")},i.a.createElement("button",{className:"operation-btn",title:"Add New Category"},i.a.createElement("i",{className:"fas fa-plus"})))),i.a.createElement("ul",{className:"outlet-list"},this.state.categories&&this.state.categories.length?"":i.a.createElement("div",{style:{textAlign:"center",marginTop:"10px"}},"No category to display."),this.state.categories.map(function(t,a){return i.a.createElement("li",{className:"outlet-list-item",key:t.id},i.a.createElement(U.c,{className:"outlet-list-item-detail float-left",to:"".concat(e.props.match.url,"/").concat(t.id,"/edit")},i.a.createElement("h3",null,t.name)),i.a.createElement("span",{className:"float-right"},i.a.createElement(U.c,{className:"float-right",to:"".concat(e.props.match.url,"/").concat(t.id,"/delete")},i.a.createElement("button",{className:"operation-btn",title:"Delete"},i.a.createElement("i",{className:"fas fa-trash"})))),i.a.createElement("div",{className:"clear-both"}))})),i.a.createElement("div",null,i.a.createElement(q.a,{exact:!0,path:"".concat(this.props.match.path,"/:category_id/edit"),component:Z}),i.a.createElement(q.a,{exact:!0,path:"".concat(this.props.match.path,"/:category_id/delete"),component:B}),i.a.createElement(q.a,{exact:!0,path:"".concat(this.props.match.path,"/add"),component:Z}))))}}]),t}(M),Q=(a(78),a(79),a(37),{received:{text:"Order Received",color:"#999"},accepted:{text:"Order Accepted",color:"#ff4b00"},ready:{text:"Order Ready",color:"#ff9d00"},out_for_delivery:{text:"Order Out for Delivery",color:"#8dff00"},delivered:{text:"Order Delivered",color:"#00ff00"}}),V={received:{next:"accepted",command:"Accept"},accepted:{next:"ready",command:"Mark as Ready"},ready:{next:"out_for_delivery",command:"Send for delivery"},out_for_delivery:{next:"delivered",command:"Mark as Delivered"}},Y=function(e){var t=Q[e.current]?Q[e.current].text:"",a=Q[e.current]?Q[e.current].color:"grey";return i.a.createElement("div",null,i.a.createElement("span",null,"Current Status: ",i.a.createElement("b",{style:{color:a}},t)),"\xa0",e.isProgressable&&V[e.current]?i.a.createElement("button",{className:"submit-btn",onClick:function(){e.makeProgress(V[e.current].next)}},V[e.current].command):"")},H=function(e){var t="USD"===e.type?"$":e.type,a=e.amount.toString().split("."),n=a[0],s="";return 2===a.length&&(s=a[1]),i.a.createElement("span",{className:"price"},i.a.createElement("span",{className:"price-whole"},t," ",n),i.a.createElement("sup",{className:"price-part"},s))},K=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={order:{}},a.makeProgress=a.makeProgress.bind(Object(h.a)(Object(h.a)(a))),a.fetchOrder=a.fetchOrder.bind(Object(h.a)(Object(h.a)(a))),a.isEditable=a.props.match.url.includes("edit"),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"fetchOrder",value:function(){var e=this,t=this.props.match.params.id,a=this.props.match.params.order_id,n=this.props.match.url.includes("user")?"users":"restaurants";t&&a&&fetch("/api/".concat(n,"/").concat(t,"/orders/").concat(a),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return 200!==e.status?null:e.json()}).then(function(t){t&&e.setState({order:t.order,amount:t.amount})})}},{key:"componentDidMount",value:function(){this.fetchOrder()}},{key:"makeProgress",value:function(e){if(e){var t=this,a=this.props.match.params.id,n=this.props.match.params.order_id,i=this.props.match.url.includes("user")?"users":"restaurants";fetch("/api/".concat(i,"/").concat(a,"/orders/").concat(n),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({status:e})}).then(function(e){if(200!==e.status)return e.text().then(function(e){return E.NotificationManager.error(e)});t.fetchOrder()})}}},{key:"render",value:function(){var e="";this.isEditable&&(e=i.a.createElement(Y,{current:this.state.order.status,makeProgress:this.makeProgress,isProgressable:!0}));var t="";return this.state.amount&&(t=i.a.createElement("table",null,i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement("p",null,i.a.createElement("b",null,"Order Subtotal"))),i.a.createElement("td",null,":"),i.a.createElement("td",null,"$",this.state.amount.sub_total)),i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement("p",null,i.a.createElement("b",null,"Tax"))),i.a.createElement("td",null,":"),i.a.createElement("td",null,"$",this.state.amount.sales_tax)),i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement("h3",null,i.a.createElement("b",null,"Order Total"))),i.a.createElement("td",null,":"),i.a.createElement("td",null,i.a.createElement("h3",null,"$",this.state.amount.total)))))),i.a.createElement("div",{className:"outlet-form-container"},i.a.createElement("section",null,i.a.createElement("h2",null,"Order Number: ",this.state.order.id),i.a.createElement("p",null,"Placed on ",this.state.order.date," by ",i.a.createElement("b",null,this.state.order.user&&this.state.order.user.full_name)," at the ",i.a.createElement("b",null,this.state.order.outlet&&this.state.order.outlet.name)," outlet"),e,t,i.a.createElement("ul",{className:"order-item-list"},i.a.createElement("h4",null,"Items on order"),this.state.order.items&&this.state.order.items.map(function(e){return i.a.createElement("li",{className:"order-item-container"},i.a.createElement("p",{className:"order-item-details"},i.a.createElement("h4",{className:"order-item-name"},e.item.name),i.a.createElement("p",{className:"order-item-description"},e.item.description)),i.a.createElement(H,{amount:e.item.price,type:"USD"}),i.a.createElement("p",{className:"float-right order-item-quantity"},"Qty: ",e.quantity),i.a.createElement("div",{class:"clear-both"}))}))),i.a.createElement(E.NotificationContainer,null))}}]),t}(n.Component),X=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={orders:[]},a.isEditable=!a.props.match.url.includes("user"),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){Object(I.a)(Object(m.a)(t.prototype),"componentDidMount",this).call(this);var e=this,a=this.props.match.url.includes("user")?"users":"restaurants";fetch("/api/".concat(a,"/").concat(this.props.match.params.id,"/orders"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return 200!==e.status?null:e.json()}).then(function(t){t&&e.setState({orders:t})})}},{key:"render",value:function(){var e=this,t=i.a.createElement(q.a,{exact:!0,path:"".concat(this.props.match.path,"/:order_id"),component:K});return this.isEditable&&(t=i.a.createElement(q.a,{exact:!0,path:"".concat(this.props.match.path,"/:order_id/edit"),component:K})),i.a.createElement("div",{className:"outlet-list-tray"},i.a.createElement(U.a,{forceRefresh:!0,basename:"/app"},i.a.createElement("h4",{className:"outlet-title"},i.a.createElement("span",null,"All Orders")),i.a.createElement("ul",{className:"outlet-list"},this.state.orders&&this.state.orders.length?"":i.a.createElement("div",{style:{textAlign:"center",marginTop:"10px"}},"No orders available."),this.state.orders.map(function(t,a){return i.a.createElement("li",{className:"outlet-list-item",key:t.id},i.a.createElement(U.c,{className:"outlet-list-item-detail float-left",to:"".concat(e.props.match.url,"/").concat(t.id).concat(e.isEditable?"/edit":"")},i.a.createElement("h3",null,"Order Number: ",t.id),i.a.createElement("p",null,t.date),i.a.createElement(Y,{current:t.status})),i.a.createElement("div",{className:"clear-both"}))})),i.a.createElement("div",null,t)))}}]),t}(M),ee=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).restaurantId=a.props.match.params.id,a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.state.isLoggedIn?i.a.createElement("div",null,i.a.createElement(p,{shouldShowLogout:this.state.isLoggedIn}),i.a.createElement("div",{className:"ContentArea-container"},i.a.createElement(U.a,{forceRefresh:!0,basename:"/app"},i.a.createElement("nav",{className:"nav-tray"},i.a.createElement("ul",{className:"nav-tray-items"},i.a.createElement("li",{className:"nav-tray-item"},i.a.createElement(U.b,{to:"".concat(this.props.match.url)},i.a.createElement("i",{className:"fas fa-user-circle nav-tray-item-icon",title:"Profile"}),i.a.createElement("div",null,"Profile"))),i.a.createElement("li",{className:"nav-tray-item"},i.a.createElement(U.b,{to:"".concat(this.props.match.url,"/outlets")},i.a.createElement("i",{className:"fas fa-utensils nav-tray-item-icon"}),i.a.createElement("div",null,"Outlets"))),i.a.createElement("li",{className:"nav-tray-item"},i.a.createElement(U.b,{to:"".concat(this.props.match.url,"/categories")},i.a.createElement("i",{className:"fas fa-columns nav-tray-item-icon"}),i.a.createElement("div",null,"Categories"))),i.a.createElement("li",{className:"nav-tray-item"},i.a.createElement(U.b,{to:"".concat(this.props.match.url,"/orders")},i.a.createElement("i",{className:"fas fa-history nav-tray-item-icon"}),i.a.createElement("div",null,"Orders"))))),i.a.createElement("div",null,i.a.createElement(q.a,{exact:!0,path:"".concat(this.props.match.path),component:P}),i.a.createElement(q.a,{path:"".concat(this.props.match.path,"/outlets"),component:J}),i.a.createElement(q.a,{path:"".concat(this.props.match.path,"/categories"),component:W}),i.a.createElement(q.a,{path:"".concat(this.props.match.path,"/orders"),component:X}))))):""}}]),t}(M),te=(a(38),a(80),a(81),function(e){return i.a.createElement("div",{className:"tab"},e.name)}),ae=function(e){var t="";return e.data.outlets&&e.data.outlets.length&&e.data.restaurant&&e.data.restaurant.name?t=i.a.createElement("span",null,"Sold by ",i.a.createElement("b",null,e.data.outlets[0].name," - ",e.data.restaurant.name)):e.data.outlets&&e.data.outlets.length&&(t=i.a.createElement("span",null,"Sold by ",i.a.createElement("b",null,e.data.outlets[0].name))),i.a.createElement("div",{className:"item-list-entry-details"},i.a.createElement("div",{className:"item-list-entry-image"},i.a.createElement(F,{url:"/images/".concat(e.data.item.image)})),i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement("h2",{className:"item-list-entry-name"},e.data.item.name),i.a.createElement(te,{name:e.data.item.category.name})),i.a.createElement("p",{className:"item-list-entry-description"},e.data.item.description),i.a.createElement(H,{amount:e.data.item.price,type:"USD"}),i.a.createElement("p",null,t)),i.a.createElement("div",{className:"clear-both"}))},ne=(a(39),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={items:[],filter:{item:"",category:""},categories:[],currentFilter:{item:"",category:""},paging:{current:1,hasPrevious:!1,hasNext:!1,next:null,previous:null},cart:{}},a.defaultCategory={id:"",name:"All Categories"},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSearch=a.handleSearch.bind(Object(h.a)(Object(h.a)(a))),a.queryItems=a.queryItems.bind(Object(h.a)(Object(h.a)(a))),a.queryCategories=a.queryCategories.bind(Object(h.a)(Object(h.a)(a))),a.goToPreviousPage=a.goToPreviousPage.bind(Object(h.a)(Object(h.a)(a))),a.goToNextPage=a.goToNextPage.bind(Object(h.a)(Object(h.a)(a))),a.getCart=a.getCart.bind(Object(h.a)(Object(h.a)(a))),a.addToCart=a.addToCart.bind(Object(h.a)(Object(h.a)(a))),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;t.startsWith("filter_")&&this.setState(function(e){return e.filter[t.split("_")[1]]=a,e})}},{key:"getCart",value:function(){var e=this;fetch("/api/users/".concat(this.props.match.params.id,"/carts"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return 200!==e.status?null:e.json()}).then(function(t){if(t&&1===t.length){var a=t[0];e.setState(function(e){return e.cart=a,e})}})}},{key:"queryItems",value:function(){var e="";this.state.filter.item&&this.state.filter.item.length&&(e+="&item=".concat(this.state.filter.item)),this.state.filter.category&&this.state.filter.category.length&&(e+="&category=".concat(this.state.filter.category)),this.state.paging.current&&(e+="&page=".concat(this.state.paging.current)),e="?"+(e+="&count=5").substr(1),this.setState(function(e){var t=Object(b.a)({},e,{currentFilter:Object(b.a)({},e.filter)});if(e.filter.category&&e.filter.category.length){var a=e.categories.filter(function(t){return t.id.toString()===e.filter.category.toString()});a&&a.length&&(a=a[0],t.currentFilter.category="".concat(a.name).concat(a.restaurant?", ".concat(a.restaurant.name):""))}return t});var t=this;fetch("/api/items".concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){if(e&&200===e.status)return e.json();400===e.status&&e.text().then(function(e){E.NotificationManager.error(e)})}).then(function(e){e&&t.setState(function(t){return t.items=e.items,t.paging=Object(b.a)({},t.paging,{next:e.paging.next,previous:e.paging.previous,hasNext:e.paging.hasNext,hasPrevious:e.paging.hasPrevious}),t})})}},{key:"queryCategories",value:function(){var e=this;fetch("/api/categories",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){if(e&&200===e.status)return e.json();400===e.status&&e.text().then(function(e){E.NotificationManager.error(e)})}).then(function(t){t&&(t.unshift(e.defaultCategory),e.setState({categories:t}),e.setState({filter:{category:e.defaultCategory.id}}))})}},{key:"goToPreviousPage",value:function(e){e.preventDefault(),this.state.paging.hasPrevious&&this.setState(function(e){return e.paging.current=e.paging.previous,e},this.queryItems)}},{key:"goToNextPage",value:function(e){e.preventDefault(),this.state.paging.hasNext&&this.setState(function(e){return e.paging.current=e.paging.next,e},this.queryItems)}},{key:"handleSearch",value:function(e){e.preventDefault(),this.queryItems()}},{key:"componentDidMount",value:function(){this.getCart(),this.queryItems(),this.queryCategories()}},{key:"addToCart",value:function(e,t){var a=this;this.state.cart&&this.state.cart.id&&fetch("/api/users/".concat(this.props.match.params.id,"/carts/").concat(this.state.cart.id,"/items"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({item_id:e,outlet_id:t,quantity:1})}).then(function(t){if(200!==t.status)return t.text().then(function(e){E.NotificationManager.error(e)});E.NotificationManager.success("Successfully added item to cart."),a.setState(function(t){return t.items=t.items.map(function(t){return t.item.id===e&&(t.is_in_cart=!t.is_in_cart),t}),t})})}},{key:"render",value:function(){var e=this,t=i.a.createElement("p",{style:{textAlign:"center"}},i.a.createElement("i",{className:"fas fa-search fa-xs"})," No item available to display.");this.state.items&&this.state.items.length&&(t=i.a.createElement("ul",{className:"menu-list-container"},this.state.items.map(function(t){return i.a.createElement("li",{key:t.item.id,className:"item-list-entry-container"},i.a.createElement(ae,{data:t}),i.a.createElement("div",{className:"item-operation-bar"},e.state.cart&&e.state.cart.id?t.is_in_cart?i.a.createElement("span",null,"Already in cart"):i.a.createElement("button",{name:"addToCart",className:"item-operation-btn",onClick:function(){e.addToCart(t.item.id,t.outlets[0].id)}},"Add to Cart"):""))})));var a=null,n=null;this.state.currentFilter.item&&this.state.currentFilter.item.length&&(a=i.a.createElement(te,{name:"name: ".concat(this.state.currentFilter.item)})),this.state.currentFilter.category&&this.state.currentFilter.category.length&&(n=i.a.createElement(te,{name:"category: ".concat(this.state.currentFilter.category)}));var s=null;return(a||n)&&(s=i.a.createElement("span",null,i.a.createElement("b",null,"Showing results for ")," ",a," ",n)),i.a.createElement("div",{className:"restaurant-detail-container"},i.a.createElement("section",{className:"list-container"},i.a.createElement("form",{onSubmit:function(){return!1}},i.a.createElement("table",{width:"100%"},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{className:"filter-container filter-item-container"},i.a.createElement("input",{id:"filter_item",className:"filter-item filter-field",type:"text",name:"filter_item",placeholder:"Search Items",onChange:this.handleChange})),i.a.createElement("td",{className:"filter-container filter-category-container"},i.a.createElement("select",{id:"filter-container filter_category",className:"filter-category filter-field",name:"filter_category",onChange:this.handleChange},this.state.categories.map(function(e){return i.a.createElement("option",{key:e.id,value:e.id},e.name,e.restaurant?", ".concat(e.restaurant.name):"")}))),i.a.createElement("td",{className:"filter-container filter-search-container"},i.a.createElement("button",{type:"submit",name:"search",onClick:this.handleSearch,title:"Search items",className:"filter-search-btn"},i.a.createElement("i",{className:"fas fa-search"}))),i.a.createElement("td",{className:"filter-container filter-page-container"},this.state.paging.hasPrevious?i.a.createElement("button",{className:"paging-btn",onClick:this.goToPreviousPage},i.a.createElement("i",{className:"fas fa-caret-left"})):"","\xa0 Page ",this.state.paging.current,"\xa0",this.state.paging.hasNext?i.a.createElement("button",{className:"paging-btn",onClick:this.goToNextPage},i.a.createElement("i",{className:"fas fa-caret-right"})):"")),i.a.createElement("tr",null,i.a.createElement("td",null,s||""))))),i.a.createElement("div",null,t)),i.a.createElement(E.NotificationContainer,null))}}]),t}(i.a.Component)),ie=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={user:{}},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.delete=a.delete.bind(Object(h.a)(Object(h.a)(a))),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;switch(t){case"line1":case"line2":case"city":case"state":this.setState(function(e){return e.user.address[t]=a,e});break;case"zipcode":this.setState(function(e){return e.user.address.zipcode=parseInt(a),e});break;default:this.setState(function(e){return e.user[t]=a,e})}}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this;fetch("/api/users/".concat(this.props.match.params.id),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(this.state.user)}).then(function(e){if(e&&200===e.status)return e.json();400===e.status&&e.text().then(function(e){E.NotificationManager.error(e)})}).then(function(e){if(e){var a="Successfully updated!";t.state.user.is_deleted&&(a="Successfully restored!"),t.setState({user:e},function(){alert(a)})}})}},{key:"componentDidMount",value:function(){if(this.props.match.params.id){var e=this;fetch("/api/users/".concat(this.props.match.params.id),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e&&200===e.status||401===e.status&&(window.location="/app/"),e.json()}).then(function(t){t&&e.setState({user:t})})}}},{key:"delete",value:function(e){this.props.match.params.id&&window.confirm("Are you sure you want to delete your account?")&&fetch("/api/users/".concat(this.props.match.params.id),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){if(!e||200!==e.status)return null;window.location="/app/"})}},{key:"render",value:function(){var e="";this.state.user&&Object.keys(this.state.user).length&&(e=i.a.createElement("div",null,i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{className:"field-row"},i.a.createElement("label",null,"First Name"),i.a.createElement("input",{type:"text",name:"first_name",value:this.state.user.first_name,onChange:this.handleChange}),i.a.createElement("label",null,"Middle Name"),i.a.createElement("input",{type:"text",name:"middle_name",value:this.state.user.middle_name,onChange:this.handleChange})),i.a.createElement("div",{className:"field-row"},i.a.createElement("label",null,"Last Name"),i.a.createElement("input",{type:"text",name:"last_name",value:this.state.user.last_name,onChange:this.handleChange})),i.a.createElement("div",{className:"field-row"},i.a.createElement("label",null,"Date of Birth"),i.a.createElement("input",{type:"text",name:"dob",value:this.state.user.dob,onChange:this.handleChange})),i.a.createElement("div",{className:"field-row"},i.a.createElement("label",null,"Email Address"),i.a.createElement("input",{type:"text",name:"email",value:this.state.user.email,onChange:this.handleChange})),i.a.createElement("div",null,i.a.createElement("h5",null,"Mailing Address"),i.a.createElement("div",{className:"field-row"},i.a.createElement("label",null,"Line 1"),i.a.createElement("input",{type:"text",name:"line1",value:this.state.user.address.line1,onChange:this.handleChange})),i.a.createElement("div",{className:"field-row"},i.a.createElement("label",null,"Line 2"),i.a.createElement("input",{type:"text",name:"line2",value:this.state.user.address.line2,onChange:this.handleChange})),i.a.createElement("div",{className:"field-row"},i.a.createElement("label",null,"City"),i.a.createElement("input",{type:"text",name:"city",value:this.state.user.address.city,onChange:this.handleChange})),i.a.createElement("div",{className:"field-row"},i.a.createElement("label",null,"State"),i.a.createElement("input",{type:"text",name:"state",value:this.state.user.address.state,onChange:this.handleChange})),i.a.createElement("div",{className:"field-row"},i.a.createElement("label",null,"Zipcode"),i.a.createElement("input",{type:"text",name:"zipcode",value:this.state.user.address.zipcode,onChange:this.handleChange}))),i.a.createElement("input",{className:"submit-btn",type:"submit",value:this.state.user.is_deleted?"Restore Account":"Update"})),this.state.user.is_deleted?"":i.a.createElement("button",{onClick:this.delete,className:"submit-btn trash-btn"},i.a.createElement("i",{className:"fas fa-trash"}),"\xa0Delete Account")));var t=this.state&&this.state.user?this.state.user.full_name:"";return i.a.createElement("div",{className:"restaurant-detail-container"},i.a.createElement("h1",null,t,t&&"s"===t[t.length-1]?"'":"'s"," Profile"),i.a.createElement("section",null,e),i.a.createElement(E.NotificationContainer,null))}}]),t}(i.a.Component),se=(a(82),function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("span",null,i.a.createElement("button",{className:"quantity-btn",onClick:this.props.onDecrease},i.a.createElement("i",{className:"fas fa-minus"})),i.a.createElement("span",null,this.props.quantity),i.a.createElement("button",{className:"quantity-btn",onClick:this.props.onIncrease},i.a.createElement("i",{className:"fas fa-plus"})))}}]),t}(i.a.Component)),ce=(a(83),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={cart:{},items:[],amount:null},a.fetchItems=a.fetchItems.bind(Object(h.a)(Object(h.a)(a))),a.fetchCartDetails=a.fetchCartDetails.bind(Object(h.a)(Object(h.a)(a))),a.removeFromCart=a.removeFromCart.bind(Object(h.a)(Object(h.a)(a))),a.changeQuantity=a.changeQuantity.bind(Object(h.a)(Object(h.a)(a))),a.placeOrder=a.placeOrder.bind(Object(h.a)(Object(h.a)(a))),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){Object(I.a)(Object(m.a)(t.prototype),"componentDidMount",this).call(this);var e=this;fetch("/api/users/".concat(this.props.match.params.id,"/carts"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return 200!==e.status?null:e.json()}).then(function(t){if(t&&t.length){var a=t[0];e.setState({cart:a},e.fetchCartDetails)}})}},{key:"fetchCartDetails",value:function(){var e=this;fetch("/api/users/".concat(this.props.match.params.id,"/carts/").concat(this.state.cart.id),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return 200!==e.status?null:e.json()}).then(function(t){t&&e.setState({cart:t.cart,amount:t.amount},e.fetchItems)})}},{key:"removeFromCart",value:function(e){var t=this;console.log(e),this.state.cart&&this.state.cart.id&&e&&fetch("/api/users/".concat(this.props.match.params.id,"/carts/").concat(this.state.cart.id,"/items/").concat(e),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){if(200!==e.status)return e.text().then(function(e){E.NotificationManager.error(e)});E.NotificationManager.success("Item removed from cart."),t.setState(t.fetchCartDetails)})}},{key:"fetchItems",value:function(){var e=this;fetch("/api/users/".concat(this.props.match.params.id,"/carts/").concat(this.state.cart.id,"/items"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return 200!==e.status?null:e.json()}).then(function(t){t&&e.setState({items:t})})}},{key:"placeOrder",value:function(){var e=this,t={items:e.state.items.map(function(e){return console.log(e),{id:e.item.id,outlet:{id:e.outlet.id},quantity:e.quantity}})};fetch("/api/users/".concat(this.props.match.params.id,"/orders"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(t){return 200!==t.status?t.text().then(function(e){E.NotificationManager.error(e)}):t.json().then(function(t){window.location="/app/user/".concat(e.props.match.params.id,"/orders/").concat(t.id)})})}},{key:"changeQuantity",value:function(e,t){if(e){var a=this,n=this.state.items.filter(function(t){if(t.id===e)return t})[0].quantity;n+t<=0?window.confirm("Do you wish to remove this item from cart?")&&a.removeFromCart(e):fetch("/api/users/".concat(this.props.match.params.id,"/carts/").concat(this.state.cart.id,"/items/").concat(e),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({quantity:n+t})}).then(function(e){200===e.status?a.setState(a.fetchCartDetails):E.NotificationManager.error("Some error occurred")})}}},{key:"render",value:function(){var e=this,t=i.a.createElement("p",{style:{textAlign:"center"}},"No item in cart. Check out ",i.a.createElement("a",{href:"/app/user/".concat(this.props.match.params.id,"/menu")},"what's cooking"),".");this.state.items&&this.state.items.length&&(t=i.a.createElement("ul",{className:"menu-list-container"},i.a.createElement("h3",null,"Items in cart"),this.state.items.map(function(t){var a={item:{id:t.item.id,name:t.item.name,description:t.item.description,price:t.item.price,category:t.item.category,image:t.item.image},outlets:[t.outlet]};return i.a.createElement("li",{className:"item-list-entry-container"},i.a.createElement(ae,{key:a.id,data:a}),i.a.createElement("div",{className:"item-operation-bar"},i.a.createElement(se,{quantity:t.quantity,onDecrease:function(){e.changeQuantity(t.id,-1)},onIncrease:function(){e.changeQuantity(t.id,1)}}),"\xa0",i.a.createElement("button",{name:"removeFromCart",className:"remove-from-cart-btn item-operation-btn danger-btn",onClick:function(a){e.removeFromCart(t.id)}},"Remove from Cart")))})));var a="";return this.state.amount&&(a=i.a.createElement("table",null,i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement("p",null,i.a.createElement("b",null,"Order Subtotal"))),i.a.createElement("td",null,":"),i.a.createElement("td",null,"$",this.state.amount.sub_total)),i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement("p",null,i.a.createElement("b",null,"Tax"))),i.a.createElement("td",null,":"),i.a.createElement("td",null,"$",this.state.amount.sales_tax)),i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement("h3",null,i.a.createElement("b",null,"Order Total"))),i.a.createElement("td",null,":"),i.a.createElement("td",null,i.a.createElement("h3",null,"$",this.state.amount.total)))))),i.a.createElement("div",{className:"restaurant-detail-container"},i.a.createElement("section",{className:"list-container"},this.state.amount?i.a.createElement("button",{className:"submit-btn float-right",onClick:this.placeOrder},"Place Order"):"",a,i.a.createElement("div",null,t),this.state.amount?i.a.createElement("button",{className:"submit-btn",onClick:this.placeOrder},"Place Order"):""),i.a.createElement(E.NotificationContainer,null))}}]),t}(M)),re=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.state.isLoggedIn?i.a.createElement("div",null,i.a.createElement(p,{shouldShowLogout:this.state.isLoggedIn}),i.a.createElement("div",{className:"ContentArea-container"},i.a.createElement(U.a,{forceRefresh:!0,basename:"/app"},i.a.createElement("nav",{className:"nav-tray"},i.a.createElement("ul",{className:"nav-tray-items"},i.a.createElement("li",{className:"nav-tray-item"},i.a.createElement(U.b,{to:"".concat(this.props.match.url)},i.a.createElement("i",{className:"fas fa-user-circle nav-tray-item-icon",title:"Profile"}),i.a.createElement("div",null,"Profile"))),i.a.createElement("li",{className:"nav-tray-item"},i.a.createElement(U.b,{to:"".concat(this.props.match.url,"/menu")},i.a.createElement("i",{className:"fas fa-hamburger nav-tray-item-icon"}),i.a.createElement("div",null,"Menu"))),i.a.createElement("li",{className:"nav-tray-item"},i.a.createElement(U.b,{to:"".concat(this.props.match.url,"/cart")},i.a.createElement("i",{className:"fas fa-shopping-cart nav-tray-item-icon"}),i.a.createElement("div",null,"Cart"))),i.a.createElement("li",{className:"nav-tray-item"},i.a.createElement(U.b,{to:"".concat(this.props.match.url,"/orders")},i.a.createElement("i",{className:"fas fa-history nav-tray-item-icon"}),i.a.createElement("div",null,"Orders"))))),i.a.createElement("div",null,i.a.createElement(q.a,{exact:!0,path:"".concat(this.props.match.path),component:ie}),i.a.createElement(q.a,{exact:!0,path:"".concat(this.props.match.path,"/menu"),component:ne}),i.a.createElement(q.a,{exact:!0,path:"".concat(this.props.match.path,"/cart"),component:ce})," */}",i.a.createElement(q.a,{path:"".concat(this.props.match.path,"/orders"),component:X})," */}")))):""}}]),t}(M),le=(a(84),a(85)),oe=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement(U.a,{basename:"/app"},i.a.createElement("div",null,i.a.createElement(q.a,{exact:!0,path:"/",component:me}),i.a.createElement(q.a,{path:"/admin/:id",component:ee}),i.a.createElement(q.a,{path:"/user/:id",component:re}))),i.a.createElement("div",{className:"footer"},i.a.createElement("div",null,"App logo made by ",i.a.createElement("a",{rel:"noopener noreferrer",href:"https://www.flaticon.com/authors/baianat",title:"Baianat"},"Baianat")," from ",i.a.createElement("a",{rel:"noopener noreferrer",href:"https://www.flaticon.com/",title:"Flaticon"},"www.flaticon.com")," is licensed by ",i.a.createElement("a",{rel:"noopener noreferrer",href:"http://creativecommons.org/licenses/by/3.0/",title:"Creative Commons BY 3.0",target:"_blank"},"CC 3.0 BY"))))}}]),t}(n.Component),me=function(e){var t=e.location,a=le.parse(t.search);return i.a.createElement("div",null,i.a.createElement(p,{isLoggedIn:!1}),i.a.createElement(D,{type:a.type?a.type:"user",method:a.method?a.method:"signin"}))},ue=oe;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(ue,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[42,1,2]]]);
//# sourceMappingURL=main.8f4dcefe.chunk.js.map